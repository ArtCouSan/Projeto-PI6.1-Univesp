{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projetos\\\\Projeto-PI7-Univesp\\\\recycle-your-delivery\\\\src\\\\context\\\\LoginContext.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { createContext, useState } from 'react';\nimport firebase from \"../firebase/config\";\nvar LoginContext = createContext({});\nexport var LoginProvider = function LoginProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      botaoLoginDisable = _useState4[0],\n      setBotaoLoginDisable = _useState4[1];\n\n  var _useState5 = useState({\n    username: '',\n    nome: '',\n    email: '',\n    senha: '',\n    confirmarSenha: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cadastroUser = _useState6[0],\n      setCadastroUser = _useState6[1];\n\n  var _useState7 = useState({\n    email: '',\n    senha: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      login = _useState8[0],\n      setLogin = _useState8[1];\n\n  function handleChangeLoginEmail(email) {\n    setLogin(_objectSpread(_objectSpread({}, login), {}, {\n      email: email\n    }));\n\n    if (email.trim().length && login.senha.trim().length) {\n      setBotaoLoginDisable(false);\n    } else {\n      setBotaoLoginDisable(true);\n    }\n  }\n\n  function handleChangeLoginSenha(senha) {\n    setLogin(_objectSpread(_objectSpread({}, login), {}, {\n      senha: senha\n    }));\n\n    if (login.email.trim().length && senha.trim().length) {\n      setBotaoLoginDisable(false);\n    } else {\n      setBotaoLoginDisable(true);\n    }\n  }\n\n  function handleChangeUsername(username) {\n    setCadastroUser(_objectSpread(_objectSpread({}, cadastroUser), {}, {\n      username: username\n    }));\n  }\n\n  function handleChangeNome(nome) {\n    setCadastroUser(_objectSpread(_objectSpread({}, cadastroUser), {}, {\n      nome: nome\n    }));\n  }\n\n  function handleChangeEmail(email) {\n    setCadastroUser(_objectSpread(_objectSpread({}, cadastroUser), {}, {\n      email: email\n    }));\n  }\n\n  function handleChangeSenha(senha) {\n    setCadastroUser(_objectSpread(_objectSpread({}, cadastroUser), {}, {\n      senha: senha\n    }));\n  }\n\n  function handleChangeConfirmarSenha(confirmarSenha) {\n    setCadastroUser(_objectSpread(_objectSpread({}, cadastroUser), {}, {\n      confirmarSenha: confirmarSenha\n    }));\n  }\n\n  function logout() {\n    setUser(null);\n  }\n\n  ;\n\n  function signUp() {\n    if (login.email.trim().length && login.senha.trim().length) {\n      firebase.auth().signInWithEmailAndPassword(login.email.trim(), login.senha.trim()).then(function (result) {\n        return true;\n      }).catch(function (error) {\n        return false;\n      });\n    } else {\n      return false;\n    }\n  }\n\n  return React.createElement(LoginContext.Provider, {\n    value: {\n      user: user,\n      cadastroUser: cadastroUser,\n      botaoLoginDisable: botaoLoginDisable,\n      handleChangeUsername: handleChangeUsername,\n      handleChangeNome: handleChangeNome,\n      handleChangeEmail: handleChangeEmail,\n      handleChangeSenha: handleChangeSenha,\n      handleChangeConfirmarSenha: handleChangeConfirmarSenha,\n      handleChangeLoginEmail: handleChangeLoginEmail,\n      handleChangeLoginSenha: handleChangeLoginSenha,\n      logout: logout,\n      signUp: signUp\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, children);\n};\nexport default LoginContext;","map":{"version":3,"sources":["D:/Projetos/Projeto-PI7-Univesp/recycle-your-delivery/src/context/LoginContext.tsx"],"names":["React","createContext","useState","firebase","LoginContext","LoginProvider","children","user","setUser","botaoLoginDisable","setBotaoLoginDisable","username","nome","email","senha","confirmarSenha","cadastroUser","setCadastroUser","login","setLogin","handleChangeLoginEmail","trim","length","handleChangeLoginSenha","handleChangeUsername","handleChangeNome","handleChangeEmail","handleChangeSenha","handleChangeConfirmarSenha","logout","signUp","auth","signInWithEmailAndPassword","then","result","catch","error"],"mappings":"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","sourcesContent":["import React, { createContext, useState } from 'react';\r\nimport { CadastroDTO } from '../core/dto/CadastreDTO';\r\nimport { LoginDTO } from '../core/dto/LoginDTO';\r\nimport { UsuarioModel } from '../core/model/usuario.model';\r\nimport firebase from \"../firebase/config\";\r\n\r\ninterface LoginContextData {\r\n    user: UsuarioModel | null;\r\n    cadastroUser: CadastroDTO;\r\n    handleChangeUsername: any;\r\n    handleChangeNome: any;\r\n    handleChangeEmail: any;\r\n    handleChangeSenha: any;\r\n    handleChangeConfirmarSenha: any;\r\n    handleChangeLoginEmail: any;\r\n    handleChangeLoginSenha: any;\r\n    botaoLoginDisable: boolean;\r\n    logout(): void;\r\n    signUp(): void;\r\n}\r\n\r\nconst LoginContext = createContext({} as LoginContextData);\r\n\r\nexport const LoginProvider: React.FC = ({ children }) => {\r\n\r\n    const [user, setUser] = useState<UsuarioModel | null>(null);\r\n    const [botaoLoginDisable, setBotaoLoginDisable] = useState<boolean>(true);\r\n    const [cadastroUser, setCadastroUser] = useState<CadastroDTO>({\r\n        username: '',\r\n        nome: '',\r\n        email: '',\r\n        senha: '',\r\n        confirmarSenha: ''\r\n    });\r\n\r\n    const [login, setLogin] = useState<LoginDTO>({\r\n        email: '',\r\n        senha: ''\r\n    });\r\n\r\n    function handleChangeLoginEmail(email: string) {\r\n        setLogin({\r\n            ...login,\r\n            email: email\r\n        });\r\n\r\n        if(email.trim().length && login.senha.trim().length) {\r\n            setBotaoLoginDisable(false);\r\n        } else {\r\n            setBotaoLoginDisable(true);\r\n        }\r\n    }\r\n\r\n    function handleChangeLoginSenha(senha: string) {\r\n        setLogin({\r\n            ...login,\r\n            senha: senha\r\n        });\r\n        \r\n        if(login.email.trim().length && senha.trim().length) {\r\n            setBotaoLoginDisable(false);\r\n        } else {\r\n            setBotaoLoginDisable(true);\r\n        }\r\n    }\r\n\r\n    function handleChangeUsername(username: string) {\r\n        setCadastroUser({\r\n            ...cadastroUser,\r\n            username: username\r\n        })\r\n    }\r\n\r\n    function handleChangeNome(nome: string) {\r\n        setCadastroUser({\r\n            ...cadastroUser,\r\n            nome: nome\r\n        })\r\n    }\r\n\r\n    function handleChangeEmail(email: string) {\r\n        setCadastroUser({\r\n            ...cadastroUser,\r\n            email: email\r\n        })\r\n    }\r\n\r\n    function handleChangeSenha(senha: string) {\r\n        setCadastroUser({\r\n            ...cadastroUser,\r\n            senha: senha\r\n        })\r\n    }\r\n\r\n    function handleChangeConfirmarSenha(confirmarSenha: string) {\r\n        setCadastroUser({\r\n            ...cadastroUser,\r\n            confirmarSenha: confirmarSenha\r\n        })\r\n    }\r\n\r\n    function logout() {\r\n        setUser(null);\r\n    };\r\n\r\n    function signUp() {\r\n        if (login.email.trim().length && login.senha.trim().length) {\r\n            firebase\r\n                .auth()\r\n                .signInWithEmailAndPassword(login.email.trim(), login.senha.trim())\r\n                .then(result => {\r\n                    return true;\r\n                }).catch(error => {\r\n                    return false;\r\n                });\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <LoginContext.Provider value={{\r\n            user,\r\n            cadastroUser,\r\n            botaoLoginDisable,\r\n            handleChangeUsername,\r\n            handleChangeNome,\r\n            handleChangeEmail,\r\n            handleChangeSenha,\r\n            handleChangeConfirmarSenha,\r\n            handleChangeLoginEmail,\r\n            handleChangeLoginSenha,\r\n            logout,\r\n            signUp\r\n        }}>\r\n            {children}\r\n        </LoginContext.Provider>);\r\n};\r\n\r\nexport default LoginContext;"]},"metadata":{},"sourceType":"module"}